DOCUMENTATION:
  name: to_nice_yaml
  author: core team
  version_added: 'historical'
  short_description: Convert variable to YAML string
  description:
    - Converts an Ansible variable into a YAML string representation.
    - This filter functions as a wrapper to the L(Python PyYAML library, https://pypi.org/project/PyYAML/)'s C(yaml.dump) function.
    - Ansible internally auto-converts YAML strings into variable structures so this plugin is used to force it into a YAML string.
  positional: _input
  options:
    _input:
      description: A variable or expression that returns a data structure.
      type: raw
      required: true
    indent:
      description: Number of spaces to indent Python structures, mainly used for display to humans.
      type: integer
    sort_keys:
      description: Affects sorting of dictionary keys.
      default: True
      type: bool
    default_flow_style:
      description:
        - If set V(True), nested collections will be serialized in the flow style.
        - If set V(False), nested collections will be serialized in the block style.
        - Valid values are V(None), V(True) and V(False).
      default: None
      type: raw
    allow_unicode:
      description:
        - Allow unicode characters.
      default: True
      type: bool
    default_style:
      description:
        - Indicates the style of the scalar.
        - Possible values are V(None), V(''), V('\''), V('"'), V('|'), and V('>').
      default: None
      type: raw
    canonical:
      description:
        - If set to V(True), export tag type to the output.
        - Valid values are V(None), V(True) and V(False).
      default: None
      type: raw
    width:
      description: Set the preferred line width.
      default: None
      type: raw
    line_break:
      description: Specify the line break.
      default: None
      type: raw
    encoding:
      description: Specify the output encoding.
      default: None
      type: raw
    explicit_start:
      description: If set to V(True), adds an explicit start using "--—".
      default: None
      type: raw
    explicit_end:
      description: If set to V(True), adds an explicit end using "--—".
      default: None
      type: raw
  notes:
    - More options may be available, see L(PyYAML documentation, https://pyyaml.org/wiki/PyYAMLDocumentation) for details.
    - 'These parameters to C(yaml.dump) will be ignored, as they are overridden internally: I(default_flow_style), I(allow_unicode).'

EXAMPLES: |
  # dump variable in a template to create a YAML document
  {{ github_workflow | to_nice_yaml }}

RETURN:
  _value:
    description: The YAML serialized string representing the variable structure inputted.
    type: string
